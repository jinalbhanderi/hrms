<div class="u_profile-layout-wpr">
  <div class="u_scroll-section undefined"  style="position: relative; overflow: hidden; width: 100%; height: 100%;">
    <div style="position: absolute; inset: 0px; overflow: auto;">
      <form autocomplete="off" [formGroup]="employeeForm" (ngSubmit)="saveChanges()">,
        <div class="u_content-header">
          <div class="u_flex u_align-center">
            <h5>Basic Info</h5>
          </div>
          <div class="u_flex u_align-center">
            <div class="u_flex u_ml-20">
              <button type="button" class="u_btn white small u_btn__white" (click)="discardChanges()"
                *ngIf="formChanged">discard</button>
              <button type="submit" class="u_btn u_ml-10 blue small u_ml-10 u_btn__blue"
                *ngIf="formChanged">save</button>
            </div>
          </div>
        </div>
        <div class="u_content-form u_p-20">
          <div class="u_row">
            <div class="u_col-4 u_mb-25">
              <div class="form-group-wrapper">
                <div class="form-group-main border-0 position-relative">
                  <ng-select placeholder="Company Name" formControlName="companyName">
                    <ng-option>Kautilyam</ng-option>
                    <ng-option>Syfrox</ng-option>
                  </ng-select>
                  <label class="position-absolute m-0 bg-white">Company Name <span class="text-danger">*</span></label>
                </div>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="form-group-wrapper">
                <div class="form-group-main border-0 position-relative">
                  <ng-select placeholder="Legal Entity Company Name" formControlName="legalEntityCompany">
                    <ng-option>Kautilyam</ng-option>
                    <ng-option>Syfrox</ng-option>
                  </ng-select>
                  <label class="position-absolute m-0 bg-white">Legal Entity Company Name <span
                      class="text-danger">*</span></label>
                </div>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="u_input"><input type="text" placeholder=" " autocomplete="off" value="1015"
                  formControlName="employeeId">
                <label>Employee ID <span>*</span></label>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="u_input u_input-password"
                [class.u_input-error]="(submitted || employeeForm.get('joiningDate')?.touched) && employeeForm.get('joiningDate')?.invalid">
                <input placeholder="" formControlName="joiningDate" ngbDatepicker #joiningDatePicker="ngbDatepicker"
                  (click)="joiningDatePicker.toggle()" autocomplete="off" />
                <label>Joining Date (Effective Date) <span>*</span></label>
                <div class=" u_input-note u_ib">
                  <span class="u_rollover u_cp u_flex" aria-describedby="popup-3740">
                    <i class="fa-regular fa-calendar-days text-secondary fs-3"></i>
                  </span>
                </div>
                <span
                  *ngIf="(submitted || employeeForm.get('joiningDate')?.touched) && employeeForm.get('joiningDate')?.invalid"
                  class="u_required u_required-icon u_cp" aria-describedby="popup-12163">
                  <i class="fa-solid fa-triangle-exclamation text-white fs-2"></i>
                </span>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="u_input u_input-password">
                <input type="text" placeholder=" " autocomplete="off" value="Abhishek Mayani"
                  formControlName="displayName">
                <label>Display Name</label>
                <div class="u_input-note u_ib fs-3">
                  <i class="bi bi-info-circle-fill text-secondary" data-bs-toggle="tooltip" data-bs-placement="top"
                    title="Display name can only contain alphabets, numbers, dots, and spaces."></i>
                </div>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="u_input u_input-password">
                <input type="text" placeholder=" " autocomplete="off" value="Abhishek"
                  formControlName="firstName"><label>First
                  Name
                  <span>*</span></label>
                <div class=" u_input-note u_ib fs-3">
                  <i class="bi bi-info-circle-fill text-secondary" data-bs-toggle="tooltip" data-bs-placement="top"
                    title="First name can only contain alphabets, numbers, dots, and spaces."></i>
                </div>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="u_input u_input-password"><input type="text" placeholder=" " autocomplete="off"
                  value="Mansukhbhai" formControlName="middleName"><label>Middle Name
                </label>
                <div class="u_input-note u_ib fs-3">
                  <i class="bi bi-info-circle-fill text-secondary" data-bs-toggle="tooltip" data-bs-placement="top"
                    title="Middle name can only contain alphabets, numbers, dots, and spaces."></i>
                </div>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="u_input u_input-password">
                <input type="text" placeholder=" " autocomplete="off" value="Mayani" formControlName="lastName">
                <label>Last Name <span>*</span></label>
                <div class="u_input-note u_ib fs-3">
                  <i class="bi bi-info-circle-fill text-secondary" data-bs-toggle="tooltip" data-bs-placement="top"
                    title="Last name can only contain alphabets, numbers, dots, and spaces."></i>
                </div>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="u_input u_input-password">
                <input class="" placeholder="" formControlName="dob" ngbDatepicker #dp="ngbDatepicker"
                  (click)="dp.toggle()" autocomplete="off" />
                <label>Date of Birth <span>*</span></label>
                <div class=" u_input-note u_ib">
                  <span class="u_rollover u_cp u_flex" aria-describedby="popup-3740">
                    <i class="fa-regular fa-calendar-days text-secondary fs-3"></i>
                  </span>
                </div>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="form-group-wrapper">
                <div class="form-group-main border-0 position-relative">
                  <ng-select placeholder="Marital Status" formControlName="maritalStatus">
                    <ng-option>Married</ng-option>
                    <ng-option>Unmarried</ng-option>
                  </ng-select>
                  <label class="position-absolute m-0 bg-white">Marital Status</label>
                </div>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="form-group-wrapper">
                <div class="form-group-main border-0 position-relative">
                  <ng-select placeholder="Gender" formControlName="gender">
                    <ng-option>Male</ng-option>
                    <ng-option>Female</ng-option>
                    <ng-option value>Other</ng-option>
                  </ng-select>
                  <label class="position-absolute m-0 bg-white">Gender
                    <span class="text-danger">*</span></label>
                </div>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="u_input"><input type="text" placeholder=" " autocomplete="off" value="Surat"
                  formControlName="bornPlace"><label>Place of Birth
                </label></div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="u_input">
                <input type="text" placeholder=" " autocomplete="off" value="Indian" formControlName="nationality">
                <label>Nationality </label>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="form-group-wrapper">
                <div class="form-group-main border-0 position-relative">
                  <ng-select placeholder="Blood Group" formControlName="bloodGroup">
                    <ng-option>O-</ng-option>
                    <ng-option>O+</ng-option>
                    <ng-option>A+</ng-option>
                    <ng-option>A-</ng-option>
                    <ng-option>B-</ng-option>
                    <ng-option>B+</ng-option>
                    <ng-option>AB+</ng-option>
                    <ng-option>AB-</ng-option>
                  </ng-select>
                  <label class="position-absolute m-0 bg-white">Blood Group
                    <span class="text-danger">*</span></label>
                </div>
              </div>
            </div>
            <div class="u_col-4 u_mb-25">
              <div class="u_input"><input type="text" placeholder=" " autocomplete="off"
                  formControlName="ledgerCode"><label>Ledger
                  Code </label></div>
            </div>
          </div>

          <h4 class="u_mb-15 mb-3">Known Language</h4>
          <div class="u_row" formArrayName="languages">
            <div class="u_col-4 u_mb-10 u_mb-15" *ngFor="let lang of languagesForms.controls;let i = index"
              [formGroupName]="i">
              <div class="u_input u_known-lang u_input-focused">
                <div class="u_flex u_align-center u_content-between u_mb-15">
                  <h4>{{ lang.get('language')?.value }}</h4>
                  <div class="u_known-lang-btns u_flex u_align-center">
                    <span class="u_icon-round u_cp" aria-describedby="popup-1809" (click)="editLanguage(i)">
                      <i class="ri-pencil-fill fs-2 text-primary m-0"></i>
                    </span>
                    <span class="u_icon-round u_ml-10 u_cp" aria-describedby="popup-1810" (click)="deleteLanguage(i)">
                      <i class="ri-delete-bin-6-fill fs-2 text-primary"></i>
                    </span>
                  </div>
                </div>
                <div class="u_known-lang-wpr">
                  <div class="u_known-lang-desc">
                    <p>Reading</p>
                    <span>{{ lang.get('reading')?.value?.$ngOptionLabel }}</span>
                  </div>
                  <div class="u_known-lang-desc">
                    <p>Speaking</p>
                    <span>{{ lang.get('speaking')?.value?.$ngOptionLabel }}</span>
                  </div>
                  <div class="u_known-lang-desc">
                    <p>Writing</p>
                    <span>{{ lang.get('writing')?.value?.$ngOptionLabel }}</span>
                  </div>
                  <div class="u_known-lang-desc">
                    <p>Understanding</p>
                    <span>{{ lang.get('understanding')?.value?.$ngOptionLabel }}</span>
                  </div>
                </div>
                <label>Known Language <span>*</span></label>
              </div>
            </div>
          </div>
          <button class="u_btn__dashed" type="button" (click)="openLanguageModal()">
            <i class="bi bi-plus-lg fs-3 text-primary u_mr-10"></i>
            Add New
          </button>
        </div>
        <div class>
          <div class="u_content-subheader u_p-20">
            <h5 class="u_flex u_align-center"><span class="u_mr-10">Statutory
                Components</span>
              <div class="u_rollover u_cp u_lh-0" aria-describedby="popup-504">
                <i class="fa-solid fa-circle-question text-secondary m-2"
                  title="Enable the necessary benefits and tax applicable for this employee."
                  data-bs-toggle="tooltip"></i>
              </div>
              <div class="u_mr-10 u_filter">
                <div class="u_icon-rollover u_filters-icon u_cp" aria-describedby="popup-505" (click)="openModal()">
                  <i class="fa-solid fa-clock-rotate-left text-secondary p-2 " title="View Activity Log"
                    data-bs-toggle="tooltip"></i>
                </div>
              </div>
            </h5>
          </div>
          <div class="u_p-20">
            <div class="u_flex u_align-center u_mb-20">
              <div class="u_toggle-switch ">
                <input type="checkbox" id="isPFActive" (change)="toggleCheckbox()"><label for="isPFActive"></label>
              </div>
              <div class="u_small-font u_ml-10">
                <h4>Employee's Provident Fund</h4>
              </div>
            </div>
            <div class=" u_row u_mb-25" *ngIf="isCheckboxChecked">
              <div class="u_col-12 u_mb-15">
                <div class="u_row">
                  <div class="u_col-4 u_mb-25">
                    <div class="u_input"><input type="text" placeholder=" " autocomplete="off"><label>PF Account
                        Number </label></div>
                  </div>
                  <div class="u_col-4 u_mb-25">
                    <div class="u_input"><input type="text" placeholder=" " autocomplete="off">
                      <label>UAN Number
                      </label>
                    </div>
                  </div>
                </div>
                <div class="u_checkbox undefined">
                  <input id="abrySchemeEligible" type="checkbox" label="Eligible for ABRY Scheme"><label
                    for="abrySchemeEligible"><span>Eligible for ABRY
                      Scheme</span></label>
                </div>
              </div>
              <div class="u_col-12">
                <h6 class="u_mb-15">Employer Contribution Rate</h6>
                <div class="u_label u_label-text u_mb-15 u_flex u_align-center">
                  <div class="u_radio-btn undefined"><input type="radio" id="isRestrictEmployerEPFContribution" label
                      for="isRestrictEmployerEPFContribution" checked><label
                      for="isRestrictEmployerEPFContribution"></label></div>
                  <div class="u_input u_ml-10 u_mr-10"><input type="number" class="u_input-hours u_input-small"
                      placeholder="0" autocomplete="off" disabled value="12"></div>
                  <p>% of Actual PF Wage</p>
                </div>
                <div class="u_label u_label-text u_mb-15 u_flex u_align-center">
                  <div class="u_radio-btn undefined"><input type="radio" id="isRestrictEmployerEPFContribution1"
                      label="Restrict Contribution  to" for="isRestrictEmployerEPFContribution1"><label
                      for="isRestrictEmployerEPFContribution1">Restrict
                      Contribution to</label></div>
                  <div class="u_input u_ml-10 u_mr-10"><input type="number" class="u_input-hours u_input-small"
                      placeholder="0" autocomplete="off" disabled value="15000"></div>
                  <p>PF Wages</p>
                </div>
              </div>
              <div class="u_col-12 u_mb-15">
                <h6 class="u_mb-15">Employee Contribution Rate</h6>
                <div class="u_label u_label-text u_mb-15 u_flex u_align-center">
                  <div class="u_radio-btn undefined"><input type="radio" id="isRestrictEmployeeEPFContribution" label
                      for="isRestrictEmployeeEPFContribution" checked><label
                      for="isRestrictEmployeeEPFContribution"></label></div>
                  <div class="u_input u_ml-10 u_mr-10"><input type="number" class="u_input-hours u_input-small"
                      placeholder="0" autocomplete="off" disabled value="12"></div>
                  <p>% of Actual PF Wage</p>
                </div>
                <div class="u_label u_label-text u_mb-15 u_flex u_align-center">
                  <div class="u_radio-btn undefined">
                    <input type="radio" id="isRestrictEmployeeEPFContribution1" label="Restrict Contribution to"
                      for="isRestrictEmployeeEPFContribution1">
                    <label for="isRestrictEmployeeEPFContribution1">Restrict Contribution to</label>
                  </div>
                  <div class="u_input u_ml-10 u_mr-10"><input type="number" class="u_input-hours u_input-small"
                      placeholder="0" autocomplete="off" disabled value="15000"></div>
                  <p>PF Wages</p>
                </div>
              </div>
              <div class="u_col-12">
                <div class="u_checkbox u_mb-15 u_checkbox-checked  ">
                  <input id="checkbox1" type="checkbox" class="u_mb-15"
                    label="Include employer's contribution in the CTC" (change)="toggleNestedCheckboxes($event)">
                  <label for="checkbox1"><span>Include employer's contribution
                      in the CTC</span></label>
                </div>
                <div class="u_pl-20" *ngIf="showNestedCheckboxes">
                  <div class="u_checkbox u_mb-20   "><input id="checkbox2" type="checkbox" class="u_mb-20"
                      label="Include employer's EDLI contribution in the CTC"><label for="checkbox2"><span>Include
                        employer's EDLI contribution in the
                        CTC</span></label></div>
                  <div class="u_checkbox undefined   "><input id="checkbox3" type="checkbox"
                      label="Include admin charges in the CTC"><label for="checkbox3"><span>Include admin charges in the
                        CTC</span></label></div>
                </div>
              </div>
            </div>
            <div class="u_flex u_align-center u_mb-20">
              <div class="u_toggle-switch "><input type="checkbox" id="isESIActive" readonly
                  (change)="toggleESICheckbox()"><label for="isESIActive"></label></div>
              <div class="u_small-font u_ml-10">
                <h4>Employee's State Insurance</h4>
              </div>
              <!-- <p class="u_small-font u_ml-10 mx-3">Employee's Provident Fund</p> -->
            </div>
            <div *ngIf="isESIChecked">
              <div class="u_row u_align-center">
                <div class="u_col-4 u_mb-15">
                  <div class="u_input"><input type="text" placeholder=" " autocomplete="off" value><label>ESIC Insurance
                      Number </label></div>
                </div>
              </div>
              <div class="u_row">
                <div class="u_col-12 u_mb-15">
                  <div class="u_checkbox undefined   "><input id="isESICEmployerCountCTC" type="checkbox"
                      label="Employer count will be counted from CTC"><label for="isESICEmployerCountCTC"><span>Employer
                        count will be
                        counted from CTC</span></label></div>
                </div>
              </div>
              <div class="u_row">
                <div class="u_col-12">
                  <div class="u_checkbox undefined   "><input id="isIgnoreESICEligibleAmount" type="checkbox"
                      label="Enable this option if you want to ignore the limit of ESIC based on the eligible CTC amount of employee"><label
                      for="isIgnoreESICEligibleAmount"><span>Enable this option
                        if you want to ignore the limit of ESIC
                        based on the eligible CTC amount of
                        employee</span></label></div>
                </div>
              </div>
            </div>
            <div class="u_flex u_align-center u_mt-20">
              <div class="u_toggle-switch "><input type="checkbox" id="isPT" readonly><label for="isPT"></label>
              </div>
              <p class="u_small-font u_ml-10 mx-3">Professional tax
                Deduction</p>
            </div>
            <div class="u_flex u_align-center u_mt-20">
              <div class="u_toggle-switch "><input type="checkbox" id="isTDS" readonly><label for="isTDS"></label>
              </div>
              <p class="u_small-font u_ml-10 mx-3">TDS Deduction</p>
            </div>
          </div>
        </div>
        <div class="u_content-subheader u_p-20">
          <h5 class="u_mr-10">Payroll Configuration</h5>
        </div>
        <div class="u_px-20 u_pt-20 mb-5">
          <div class="u_row u_flex u_align-center">
            <div class="u_col-4 u_disabled">
              <div class="u_input u_input-select u_input-select-value">
                <div class="u_input-select-inner css-2b097c-container"><span aria-live="polite" aria-atomic="false"
                    aria-relevant="additions text" class="css-7pg0cj-a11yText"></span>
                  <div class="u_select__control css-yk16xz-control">
                    <div class="u_select__value-container u_select__value-container--has-value css-1hwfws3">
                      <div class="u_select__single-value css-1uccc91-singleValue">Old</div>
                      <div class="css-1g6gooi">
                      <div class="u_select__input" style="display: inline-block;"><input autocapitalize="none" autocomplete="off"
                          autocorrect="off" id="react-select-18-input" spellcheck="false" tabindex="0" type="text" aria-autocomplete="list"
                          value
                          style="box-sizing: content-box; width: 2px; background: 0px center; border: 0px; font-size: inherit; opacity: 1; outline: 0px; padding: 0px; color: inherit;">
                        <div style="
                                                    position: absolute;
                                                    top: 0px;
                                                    left: 0px;
                                                    visibility: hidden;
                                                    height: 0px;
                                                    overflow: scroll;
                                                    white-space: pre;
                                                    font-size: 14px;
                                                    font-family: Mulish, sans-serif;
                                                    font-weight: 500;
                                                    font-style: normal;
                                                    letter-spacing: normal;
                                                    text-transform: none;
                                                  "></div>  </div>
                      </div>
                    </div>
                    <div class="u_select__indicators css-1wy0on6">
                      <span class="u_select__indicator-separator css-1okebmr-indicatorSeparator"></span>
                      <div class="u_select__indicator u_select__dropdown-indicator css-tlfecz-indicatorContainer"
                        aria-hidden="true">
                        <svg height="20" width="20" viewBox="0 0 20 20" aria-hidden="true" focusable="false"
                          class="css-8mmkcg">
                          <path
                            d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z">
                          </path>
                        </svg>
                      </div>
                    </div>
                    <div class="u_select__indicators css-1wy0on6"><span
                        class="u_select__indicator-separator css-1okebmr-indicatorSeparator"></span>
                      <div class="u_select__indicator u_select__dropdown-indicator css-tlfecz-indicatorContainer"
                        aria-hidden="true"><svg height="20" width="20" viewBox="0 0 20 20" aria-hidden="true"
                          focusable="false" class="css-8mmkcg">
                          <path
                            d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z">
                          </path>
                        </svg></div>
                    </div>
                  </div><input type="hidden" value="1">
                </div><label>Tax
                  Regime </label>
              </div>
            </div>
            <div class="u_col-4">
              <div class="u_flex u_align-center">
                <div class="u_checkbox undefined   "><input id="skipFromPayroll" type="checkbox"
                    label="Skip from payroll" value="false"><label for="skipFromPayroll"><span>Skip
                      from payroll</span></label></div>
                <div class="u_flex u_align-center">
                  <div class="u_checkbox u_ml-15   "><input id="payrollType" type="checkbox" label="Import Payroll"
                      class="u_ml-15" value="1"><label for="payrollType"><span>Import
                        Payroll</span></label></div>
                  <div class="u_rollover u_cp u_flex u_ml-10" aria-describedby="popup-6583"><svg width="18" height="18"
                      viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg" class
                      xmlns:xlink="http://www.w3.org/1999/xlink">
                      <path class="u_fill"
                        d="M18 2c8.837 0 16 7.163 16 16s-7.163 16-16 16S2 26.837 2 18 9.163 2 18 2Zm1.6 11.2V10h-3.2v3.2h3.2Zm0 12.8v-9.6h-3.2V26h3.2Z"
                        fill="#4E525F"></path>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>